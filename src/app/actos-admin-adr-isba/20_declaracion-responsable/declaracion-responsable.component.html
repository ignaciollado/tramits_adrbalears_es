<mat-card ngClass="declaracion-responsable">
    <mat-card-header>
        <mat-card-title>
            <span>Estado de la firma de la declaración responsable y de la solicitud</span>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <section>
            <section ngClass="estado-firma" *ngIf="signatureDocState === 'NOT_STARTED'">
                <section [ngClass]="['req-state', stateClassDeclResponsable, 'status']">
                    <mat-icon>hourglass_empty</mat-icon> 
                    <span>Pendiente de firma</span>
                </section>
            </section>
            <section ngClass="estado-firma" *ngIf="signatureDocState === 'IN_PROCESS'">
                <section [ngClass]="['req-state', stateClassDeclResponsable, 'status']">
                    <mat-icon>autorenew</mat-icon> 
                    <span>En progreso de firma</span>
                </section>
            </section>
            <section ngClass="estado-firma" *ngIf="signatureDocState === 'COMPLETED'">
                <section [ngClass]="['req-state', stateClassDeclResponsable, 'status']">
                    <mat-icon>check_circle</mat-icon> 
                    <span>Documento firmado</span>
                </section>
            </section>
            <section ngClass="estado-firma" *ngIf="signatureDocState === 'REJECTED'">
                <section [ngClass]="['req-state', stateClassDeclResponsable, 'status']">
                    <mat-icon>cancel</mat-icon> 
                    <span>Firma rechazada</span>
                </section>
            </section>
        </section>
    </mat-card-content>
    <mat-card-actions ngClass="acciones-declaracion">
        <button mat-raised-button color="primary" (click)="viewDocumento(actualNif, timeStampDocGenerado, nameDocGenerado, 'pdf')">Ver declaración sin firmar</button>
        <button mat-raised-button color="accent" (click)="viewDocumentoFirmado()" [disabled]="signatureDocState !== 'COMPLETED'">Ver declaración firmada</button>
    </mat-card-actions>
</mat-card>
<iframe *ngIf="pdfUrl" [src]="pdfUrl" width="100%" height="600px" ngClass="pdf-container"></iframe>
<button mat-button color="warn" ngClass="close-button" *ngIf="showPdfViewer" (click)="closeViewDocumento()">Cerrar ✖</button>