<mat-accordion [ngClass]="['detalle-formulario', 'req-state', stateClassActAdmin2]">
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>2. {{'ACTOSADMINISTRATIVOS.RESOLUCIONDESESTIMIENTOPORNOENMENDAR' | translate}}</mat-panel-title>
        </mat-expansion-panel-header>
        <button mat-raised-button color="primary" (click)="generateActoAdmin('isba_2_resolucion_desestimiento_por_no_enmendar', 'ADR-ISBA', 'res_desestimiento_por_no_enmendar_adr_isba')">{{'ACTOSADMINISTRATIVOS.GENERAL.GENERATEACTO' | translate}}</button>
        <button mat-raised-button color="accent" (click)="actoAdmin2 ? viewActoAdmin(actualNif, 'informes', nameDocGenerado, 'pdf') : generateActoAdmin('isba_2_resolucion_desestimiento_por_no_enmendar', 'ADR-ISBA', 'res_desestimiento_por_no_enmendar_adr_isba')" [disabled]="!actoAdmin2">{{'ACTOSADMINISTRATIVOS.GENERAL.VIEWACTO' | translate}}</button>
        <button *ngIf="!publicAccessId" mat-raised-button color="warn" (click)="sendActoAdminToSign(actualNif, 'informes', nameDocGenerado, 'pdf')" [disabled]="!actoAdmin2">{{'ACTOSADMINISTRATIVOS.GENERAL.SENDTOCEO' | translate}}</button>
        <section *ngIf="publicAccessId" [ngClass]="['detalle-formulario', 'req-state', stateClassActAdmin2]">
          <section *ngIf="signatureDocState === 'COMPLETED'">
            <a href='{{externalSignUrl}}' target="_blank">{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.VIEWSIGNEDDOC' | translate}}</a>
          </section>
          <section *ngIf="signatureDocState === 'REJECTED'">{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.REJECTED' | translate}}</section>
          <section *ngIf="signatureDocState === 'NOT_STARTED'">
            <span>{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.PENDING' | translate}}</span><br>
            <span>{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.PENDINGEMAIL' | translate}} <strong>{{sendedUserToSign | lowercase}}</strong></span><br>
            <span>{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.PENDINGDATE' | translate}} <strong>{{sendedDateToSign | date:'dd/MM/yyyy HH:mm:ss'}}</strong></span>
            <button mat-raised-button color="warn" (click)="sendActoAdminToSign(actualNif, 'informes', nameDocGenerado, 'pdf')" [disabled]="!actoAdmin2">{{'ACTOSADMINISTRATIVOS.GENERAL.SENDTOSIGNAGAIN' | translate}}</button>
          </section>
          <section *ngIf="signatureDocState === 'IN_PROCESS'">
            <span>{{'ACTOSADMINISTRATIVOS.SIGNATURESTATUS.PROGRESS' | translate}}</span>
          </section>
        </section>
        <section *ngIf="faltanCampos" style="margin-top: 10px;">
          <span>{{'ACTOSADMINISTRATIVOS.GENERAL.MISSINGFIELDS' | translate}}</span>
          <ol>
              <li *ngFor="let campo of camposVacios;">{{campo | translate}}</li>
            </ol>
        </section>   
        <iframe *ngIf="pdfUrl" [src]="pdfUrl" width="100%" height="600px" ngClass="pdf-container"></iframe>
        <button mat-button color="warn" ngClass="close-button"  *ngIf="showPdfViewer" (click)="closeViewActoAdmin()">{{'ACTOSADMINISTRATIVOS.GENERAL.CLOSE' | translate}} âœ–</button>   
    </mat-expansion-panel>
</mat-accordion>
