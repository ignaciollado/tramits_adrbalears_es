<form [formGroup]="ilsForm" ngClass="form" (ngSubmit)="onSubmit()">
    <div class="example-action-buttons">
        <button matButton type="button" ngClass="btn-green btn" (click)="accordion().openAll()">{{ 'APP.EXPANDALL' | translate }}</button>
        <button matButton type="button" ngClass="btn-green btn" (click)="accordion().closeAll()">{{ 'APP.COLAPSEALL' | translate }}</button>
    </div>
    <mat-accordion ngClass="example-headers-align" multi>
        <!-- RGPD -->
        <mat-expansion-panel [expanded]="step() === 0" (opened)="setStep(0)">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.RGPDTITLE' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.RGPDDESCRIPTION' | translate}} <mat-icon>policy</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section>
                <mat-checkbox formControlName="acceptRGPD">
                    <label>
                        {{'COMMON.RGPD-INFO.READ-AND-ACCEPTS.PART-1' | translate}}<abbr title="{{'COMMON.ACRONYMS.RGPD.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.RGPD.ACRONYM' | translate}}.</abbr><mat-icon data-icon="rgpd-icon" (click)="openDialog('300ms', '300ms', 'Sobre el RGPD', '../../../assets/data/clausulaProteccionDatos.html', '', '')">info</mat-icon>{{'COMMON.RGPD-INFO.READ-AND-ACCEPTS.PART-2' | translate}}<abbr title="{{'COMMON.ACRONYMS.ADR.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ADR.ACRONYM' | translate}}</abbr>{{'COMMON.RGPD-INFO.READ-AND-ACCEPTS.PART-3' | translate}}<mat-icon data-icon="rgpd-info" (click)="openDialog('300ms', '300ms', 'Nuestra política de privacidad', '../../../assets/data/politica_privacidad.html', '', '')">info</mat-icon>
                    </label>
                </mat-checkbox>
                <section>
                    <dl>
                        <dt>{{'ILS.REQUIREDDOCINFO' | translate}}</dt>
                        <dd>{{'ILS.REQUIREDDOC1' | translate}}</dd>
                        <dd>{{'ILS.REQUIREDDOC2PART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.BAT.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.BAT.ACRONYM' | translate}}</abbr> {{'ILS.REQUIREDDOC2PART2' | translate}}</dd>
                        <dd [innerHTML]="'ILS.REQUIREDDOC3' | translate"></dd>
                        <dd [innerHTML]="'ILS.REQUIREDDOC4' | translate"></dd>
                        <dd>{{'ILS.REQUIREDDOC5' | translate}}</dd>
                    </dl>
                    <dl>
                        <dt>{{'ILS.OPTIONALDOCINFO' | translate}}</dt>
                        <dd>{{'ILS.OPTIONALDOC1' | translate}}</dd>
                        <dd>{{'ILS.OPTIONALDOC2PART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.CIF.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.CIF.ACRONYM' | translate}}</abbr>{{'ILS.OPTIONALDOC2PART2' | translate}}</dd>
                        <dd>{{'ILS.OPTIONALDOC3' | translate}}</dd>
                    </dl>

                    <dl>
                        <dt>
                            <strong>{{'ILS.AUTHORIZATIONPART1' | translate}}</strong>{{'ILS.AUTHORIZATIONPART2' | translate}}<abbr title="{{'COMMON.ACRONYMS.ADR.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ADR.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONPART3' | translate}}<abbr title="{{'COMMON.ACRONYMS.ATIB.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ATIB.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONPART4' | translate}}<abbr title="{{'COMMON.ACRONYMS.TGSS.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.TGSS.ACRONYM' | translate}}</abbr>,{{'ILS.AUTHORIZATIONPART5' | translate}}
                        </dt>
                        <dd><abbr title="{{'COMMON.ACRONYMS.NIF.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.NIF.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONDOC1' | translate}}</dd>
                        <dd>{{'ILS.AUTHORIZATIONDOC2' | translate}}<abbr title="{{'COMMON.ACRONYMS.ATIB.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ATIB.ACRONYM' | translate}}</abbr>.</dd>
                        <dd>{{'ILS.AUTHORIZATIONDOC3' | translate}}<abbr title="{{'COMMON.ACRONYMS.TGSS.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.TGSS.ACRONYM' | translate}}</abbr>.</dd>
                    </dl>
                    <dl>
                        <dt>{{'ILS.NOTIFICATIONINFO' | translate}}</dt>
                        <dd>{{'ILS.NOTIFICATIONDOC1' | translate}}</dd>
                        <dd>{{'ILS.NOTIFICATIONDOC2' | translate}}</dd>
                    </dl>
                </section>
            </section>
        </mat-expansion-panel>

        <!-- Tipo de solicitante -->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.SOLICITORTYPE' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.ORGANIZATIONTYPE' | translate}} <mat-icon>corporate_fare</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section ngClass="form applicant-type">
                <section>
                    <mat-radio-group formControlName="tipo_solicitante" (ngModelChange)="changeNIFValidator()">
                        <mat-radio-button value="autonomo">{{'FORM.SELFEMPLOYEDBUSINESS' | translate}}</mat-radio-button>
                        <mat-radio-button value="pequenya">{{'FORM.SMALLBUSINESSNAME' | translate}}</mat-radio-button>
                        <mat-radio-button value="mediana">{{'FORM.MEDIUMBUSINESSNAME' | translate}}</mat-radio-button>
                    </mat-radio-group>
                </section>
                <section>
                    <p><strong>{{'FORM.SMALLBUSINESSNAME' | translate}}</strong>: {{'FORM.SMALLBUSINESSINFO' | translate}}</p>
                    <p><strong>{{'FORM.MEDIUMBUSINESSNAME' | translate}}</strong>: {{'FORM.MEDIUMBUSINESSINFO' | translate}}</p>
                </section>
            </section>
        </mat-expansion-panel>

        <!-- Datos personales -->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.SOLICITOR' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.SOLICITORDETAILS' | translate}} <mat-icon>person</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section ngClass="form personal-data">
                <mat-form-field>
                    <mat-label *ngIf="businessType === 'autonomo'">{{'FORM.NIF' | translate}}</mat-label>
                    <mat-label *ngIf="businessType !== 'autonomo'">{{'FORM.CIF' | translate}}</mat-label>
                    <input matInput type="text" formControlName="nif" maxlength="9">
                    <mat-error *ngIf="ilsForm.get('nif')?.errors && businessType ==='autonomo'">{{'FORMERRORS.COMMON.NIF' | translate}}</mat-error>
                    <mat-error *ngIf="ilsForm.get('nif')?.errors && businessType !=='autonomo'">{{'FORMERRORS.COMMON.CIF' | translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.COMPANYNAME' | translate}}</mat-label>
                    <input matInput type="text" formControlName="empresa">
                    <mat-error *ngIf="ilsForm.get('empresa')?.errors">{{'FORMERRORS.COMMON.COMPANYNAME' | translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.ADDRESS' | translate}}</mat-label>
                    <input matInput type="text" formControlName="domicilio">
                    <mat-error *ngIf="ilsForm.get('domicilio')?.errors">{{'FORMERRORS.COMMON.ADDRESS' | translate}}</mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>{{'FORM.ZIPCODE' | translate}}</mat-label>
                    <input matInput (ngModelChange)="selectedValue()" type="text" formControlName="cpostal"
                        maxlength="5" minlength="5" [matAutocomplete]="auto" (blur)="cleanBlank($event)">
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">{{option.zipCode}} {{option.town}}</mat-option>
                    </mat-autocomplete>
                    <mat-error *ngIf="ilsForm.get('cpostal')?.errors">{{'FORMERRORS.COMMON.ZIPCODE' |
                        translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.TOWN' | translate}}</mat-label>
                    <input matInput formControlName="localidad" readonly>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.CONTACTPHONE' | translate}}</mat-label>
                    <input matInput type="tel" formControlName="telefono" (blur)="cleanBlank($event)" minlength="9"
                        maxlength="9">
                    <mat-error *ngIf="ilsForm.get('telefono')?.errors">{{'FORMERRORS.COMMON.CONTACTPHONE' |
                        translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.SELECTIAE' | translate}}</mat-label>
                    <mat-select formControlName="iae">
                        <mat-option *ngFor="let cnae of actividadesCNAE;"
                            [value]="cnae.id">{{cnae.label_cas}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="ilsForm.get('iae')?.errors">{{'FORMERRORS.COMMON.CNAECODE' |
                        translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'ILS.WEBSITE' | translate}}</mat-label>
                    <input matInput type="text" formControlName="sitio_web_empresa" (blur)="cleanBlank($event)">
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'ILS.PRESENTATIONVIDEO' | translate}}</mat-label>
                    <input matInput type="text" formControlName="video_empresa" (blur)="cleanBlank($event)">
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.NOMREPRESENTANTE' | translate}}</mat-label>
                    <input matInput type="text" formControlName="nombre_rep">
                    <mat-error
                        *ngIf="ilsForm.get('nombre_rep')?.errors">{{'FORMERRORS.COMMON.NAMEREPRESENTANTE'
                        | translate}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>{{'FORM.NIFREPRESENTANTE' | translate}}</mat-label>
                    <input matInput type="text" formControlName="nif_rep" minlength="9" maxlength="9">
                    <mat-error
                        *ngIf="ilsForm.get('nif_rep')?.errors">{{'FORMERRORS.COMMON.NIFREPRESENTANTE' |
                        translate}}</mat-error>
                </mat-form-field>
            </section>
        </mat-expansion-panel>

        <!-- Canal de notificaciones-->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.NOTIFICATIONCHANEL' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.NOTIFICATIONCHANELDESCRIPTION' | translate}} <mat-icon>email</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section ngClass="form notification-channel">
                <section>
                    <p [innerHTML]="'FORM.NOTIFICATIONCHANELINFO' | translate"></p>
                </section>
                <section ngClass="inputs">
                    <mat-form-field>
                        <mat-label>{{'FORM.NOTIFICATIONMOBILE' | translate}}</mat-label>
                        <input matInput type="tel" formControlName="telefono_rep" (blur)="cleanBlank($event)"
                            maxlength="9">
                        <mat-error
                            *ngIf="ilsForm.get('telefono_rep')?.errors">{{'FORMERRORS.COMMON.NOTIFICATIONPHONE' |
                            translate}}</mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>{{'FORM.NOTIFICATIONMAIL' | translate}}</mat-label>
                        <input matInput type="email" formControlName="email_rep" (blur)="cleanBlank($event)">
                        <mat-error
                            *ngIf="ilsForm.get('email_rep')?.errors">{{'FORMERRORS.COMMON.NOTIFICATIONEMAIL' |
                            translate}}</mat-error>
                    </mat-form-field>
                </section>
            </section>
        </mat-expansion-panel>

        <!-- Autorizaciones-->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.AUTHORISATIONS' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'ILS.AUTHORIZATIONDESCRIPTION' | translate}} <mat-icon>gavel</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section ngClass="form authorization-checkboxes">
                <section>
                    <mat-checkbox formControlName="checkboxID">
                        <label>{{'ILS.AUTHORIZATIONNIFPART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.ADR.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ADR.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONNIFPART2' | translate}}<abbr title="{{'COMMON.ACRONYMS.NIF.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.NIF.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONNIFPART3' | translate}}</label>
                    </mat-checkbox>
                    <section *ngIf="!checkboxID" ngClass="afterFormChange">
                        <section ngClass="file-input">
                            <mat-form-field floatLabel="always" style="margin-top: 10px;">
                                <mat-label>{{'ILS.NOAUTHORIZATED' | translate}}</mat-label>
                                <input
                                matInput
                                type="text"
                                readonly
                                formControlName="file_enviardocumentoIdentificacion"
                                [value]="fileNames['file_enviardocumentoIdentificacion']"
                                (click)="file_enviardocumentoIdentificacion.click()"
                                placeholder="{{'FILES.UPLOADFILES' | translate}}" />
                                <mat-error *ngIf="ilsForm.get('file_enviardocumentoIdentificacion')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                            </mat-form-field>
                            <input hidden type="file" #file_enviardocumentoIdentificacion (change)="onFileChange($event, 'file_enviardocumentoIdentificacion')" accept=".pdf" multiple/>
                            <ul *ngIf="files['file_enviardocumentoIdentificacion'].length > 0">
                                <li *ngFor="let file of files['file_enviardocumentoIdentificacion']">{{file.name}} {{file.size/1000}} KB</li>
                            </ul>
                        </section>
                    </section>
                </section>
                <section>
                    <mat-checkbox formControlName="checkboxATIB">
                        <label>{{'ILS.AUTHORIZATIONATIBPART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.ATIB.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.ATIB.ACRONYM' | translate}}</abbr>{{'ILS.AUTHORIZATIONATIBPART2' | translate}}</label>
                    </mat-checkbox>
                    <section *ngIf="!checkboxATIB" ngClass="afterFormChange">
                        <section ngClass="file-input">
                            <mat-form-field floatLabel="always">
                                <mat-label>{{'ILS.NOAUTHORIZATED' | translate}}</mat-label>
                                <input
                                matInput
                                type="text"
                                readonly
                                formControlName="file_certificadoATIB"
                                [value]="fileNames['file_certificadoATIB']"
                                (click)="file_certificadoATIB.click()"
                                placeholder="{{'FILES.UPLOADFILES' | translate}}" />
                                <mat-error *ngIf="ilsForm.get('file_certificadoATIB')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                            </mat-form-field>
                            <input hidden type="file" #file_certificadoATIB (change)="onFileChange($event, 'file_certificadoATIB')" accept=".pdf" multiple />
                            <ul *ngIf="files['file_certificadoATIB'].length > 0">
                                <li *ngFor="let file of files['file_certificadoATIB']">{{file.name}} {{file.size/1000}} KB</li>
                            </ul>
                        </section>
                    </section>
                </section>
            </section>
        </mat-expansion-panel>

        <!-- Declaración responsable-->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.RESPONSIBLEDECLARATION' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.RESPONSIBLEDECLARATIONDESCRIPTION' | translate}} <mat-icon>menu_book</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
            <section ngClass="form declaration-checkboxes">
                <mat-checkbox formControlName="cumpleRequisitos_dec_resp"><label>1. {{'ILS.DECLARATION1' | translate}}</label></mat-checkbox>
                <mat-checkbox formControlName="epigrafeIAE_dec_resp"><label>2. {{'ILS.DECLARATION2' | translate}}</label></mat-checkbox>
                <mat-checkbox formControlName="registroIndustrialMinero_dec_resp"><label>3. {{'ILS.DECLARATION3' | translate}}</label></mat-checkbox>
                <mat-checkbox formControlName="cumpleNormativaSegInd_dec_resp"><label>4. {{'ILS.DECLARATION4' | translate}}</label></mat-checkbox>
            </section>
        </mat-expansion-panel>

        <!-- Documentación requerida y opcional-->
        <mat-expansion-panel [disabled]="!rgpdAccepted" [expanded]="rgpdAccepted">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <h3>{{'FORM.DOCUMENTATIONTITLE' | translate}}</h3>
                </mat-panel-title>
                <mat-panel-description>{{'FORM.DOCUMENTATIONDESCRIPTION' | translate}} <mat-icon>attachment</mat-icon></mat-panel-description>
            </mat-expansion-panel-header>
                <section>
                    <p [innerHTML]="'FORM.DOCUMENTATIONINFOFORMAT' | translate"></p>
                    <ol>
                        <li [innerHTML]="'FORM.DOCUMENTATIONINFOCTRL' | translate"></li>
                        <li [innerHTML]="'FORM.DOCUMENTATIONINFOSHIFT' | translate"></li>
                    </ol>
            </section>
            <section ngClass="form documentation">
                <h4>{{'ILS.REQUIREDDOCUMENTATIONINFO' | translate}}</h4>
                <section>
                    <section ngClass="file-input">
                        <mat-form-field floatLabel="always">
                            <mat-label>{{'ILS.CONSTITUTION' | translate}}</mat-label>
                            <input 
                            matInput 
                            type="text" 
                            formControlName="file_escritura_empresa"
                            readonly
                            [value]="fileNames['file_escritura_empresa']"
                            (click)="file_escritura_empresa.click()"
                            placeholder="{{'FILES.UPLOADFILES' | translate}}"
                            />
                            <mat-error *ngIf="ilsForm.get('file_escritura_empresa')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                        </mat-form-field>
                        <input #file_escritura_empresa type="file" (change)="onFileChange($event, 'file_escritura_empresa')" hidden accept=".pdf" multiple />
                        <ul *ngIf="files['file_escritura_empresa'].length > 0">
                            <li *ngFor="let file of files['file_escritura_empresa']">{{file.name}} {{file.size/1000}} KB</li>
                        </ul>
                    </section>
                    <section ngClass="file-input">
                        <mat-form-field floatLabel="always">
                            <mat-label>{{'ILS.BATPART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.BAT.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.BAT.ACRONYM' | translate}}</abbr>{{'ILS.BATPART2' | translate}}</mat-label>
                            <input 
                            matInput 
                            type="text" 
                            formControlName="file_certificadoIAE" 
                            readonly 
                            [value]="fileNames['file_certificadoIAE']"
                            (click)="file_certificadoIAE.click()"
                            placeholder="{{'FILES.UPLOADFILES' | translate}}"
                            />
                            <mat-error *ngIf="ilsForm.get('file_certificadoIAE')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                        </mat-form-field>
                        <input #file_certificadoIAE type="file" (change)="onFileChange($event, 'file_certificadoIAE')" hidden accept=".pdf" multiple>
                        <ul *ngIf="files['file_certificadoIAE'].length > 0">
                            <li *ngFor="let file of files['file_certificadoIAE']">{{file.name}} {{file.size/1000}} KB</li>
                        </ul>
                    </section>
                    <section>
                        <mat-radio-group ngClass="file-input" formControlName="radioGroupFile">
                            <mat-radio-button value="option1">{{'ILS.INPUTRADIO1' | translate}}</mat-radio-button>
                            <section *ngIf="radioOptionDocs === 'option1'" ngClass="afterFormChange">
                                <section ngClass="file-input">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>{{'ILS.SUMMARY' | translate}}</mat-label>
                                        <input
                                        matInput
                                        type="text"
                                        formControlName="file_informeResumenIls"
                                        readonly
                                        [value]="fileNames['file_informeResumenIls']"
                                        (click)="file_informeResumenIls.click()"
                                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                                        />
                                        <mat-error *ngIf="ilsForm.get('file_informeResumenIls')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                                    </mat-form-field>
                                    <input #file_informeResumenIls type="file" (change)="onFileChange($event, 'file_informeResumenIls')" accept=".pdf" hidden multiple >
                                    <ul *ngIf="files['file_informeResumenIls'].length > 0">
                                        <li *ngFor="let file of files['file_informeResumenIls']">{{file.name}} {{file.size/1000}} KB</li>
                                    </ul>
                                </section>
                                <section ngClass="file-input">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>{{'ILS.INVENTORY' | translate}}</mat-label>
                                        <input
                                        matInput
                                        type="text"
                                        formControlName="file_informeInventarioIls"
                                        readonly
                                        [value]="fileNames['file_informeInventarioIls']"
                                        (click)="file_informeInventarioIls.click()"
                                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                                        />
                                        <mat-error *ngIf="ilsForm.get('file_informeInventarioIls')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                                    </mat-form-field>
                                    <input #file_informeInventarioIls type="file" (change)="onFileChange($event, 'file_informeInventarioIls')" accept=".pdf" hidden multiple />
                                    <ul *ngIf="files['file_informeInventarioIls'].length > 0">
                                        <li *ngFor="let file of files['file_informeInventarioIls']">{{file.name}} {{file.size/1000}} KB</li>
                                    </ul>
                                </section>
                            </section>
                            <mat-radio-button value="option2">{{'ILS.INPUTRADIO2' | translate}}</mat-radio-button>
                            <section *ngIf="radioOptionDocs==='option2'" ngClass="afterFormChange">
                                <section ngClass="file-input">
                                    <mat-form-field floatLabel="always">
                                        <mat-label>{{'ILS.ISOVERIFICATION' | translate}}</mat-label>
                                        <input
                                        matInput
                                        type="text"
                                        formControlName="file_certificado_verificacion_ISO"
                                        readonly
                                        [value]="fileNames['file_certificado_verificacion_ISO']"
                                        (click)="file_certificado_verificacion_ISO.click()"
                                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                                        />
                                        <mat-error *ngIf="ilsForm.get('file_certificado_verificacion_ISO')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                                    </mat-form-field>
                                    <input #file_certificado_verificacion_ISO type="file" (change)="onFileChange($event, 'file_certificado_verificacion_ISO')" accept=".pdf" hidden multiple />
                                    <ul *ngIf="files['file_certificado_verificacion_ISO'].length > 0">
                                        <li *ngFor="let file of files['file_certificado_verificacion_ISO']">{{file.name}} {{file.size/1000}} KB</li>
                                    </ul>
                                    </section>
                            </section>
                        </mat-radio-group>
                    </section>
                    <section ngClass="file-input">
                        <mat-form-field floatLabel="always">
                            <mat-label>{{'ILS.GREENHOUSEREDUCTION' | translate}}</mat-label>
                            <input 
                            matInput
                            type="text"
                            formControlName="file_modeloEjemploIls"
                            readonly
                            [value]="fileNames['file_modeloEjemploIls']"
                            (click)="file_modeloEjemploIls.click()"
                            placeholder="{{'FILES.UPLOADFILES' | translate}}"
                            />
                            <mat-error *ngIf="ilsForm.get('file_modeloEjemploIls')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                        </mat-form-field>
                        <input #file_modeloEjemploIls type="file" (change)="onFileChange($event, 'file_modeloEjemploIls')" accept=".pdf" hidden multiple>
                        <ul *ngIf="files['file_modeloEjemploIls'].length > 0">
                            <li *ngFor="let file of files['file_modeloEjemploIls']">{{file.name}} {{file.size/1000}} KB</li>
                        </ul>
                    </section>
                    <section ngClass="file-input">
                        <mat-form-field floatLabel="always">
                            <mat-label>{{'ILS.TRAININGITINERARY' | translate}}</mat-label>
                            <input 
                            matInput
                            type="text"
                            formControlName="file_certificado_itinerario_formativo"
                            readonly
                            [value]="fileNames['file_certificado_itinerario_formativo']"
                            (click)="file_certificado_itinerario_formativo.click()"
                            placeholder="{{'FILES.UPLOADFILES' | translate}}"
                            />
                            <mat-error *ngIf="ilsForm.get('file_certificado_itinerario_formativo')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                        </mat-form-field>
                        <input #file_certificado_itinerario_formativo type="file" (change)="onFileChange($event, 'file_certificado_itinerario_formativo')" accept=".pdf" hidden multiple>
                        <ul *ngIf="files['file_certificado_itinerario_formativo'].length > 0">
                            <li *ngFor="let file of files['file_certificado_itinerario_formativo']">{{file.name}} {{file.size/1000}} KB</li>
                        </ul>
                    </section>
                </section>
                <h4>{{'ILS.OPTIONALDOCUMENTATIONINFO' | translate}}</h4>
                <section ngClass="file-input">
                    <mat-form-field floatLabel="always">
                        <mat-label>{{'ILS.TECHNICALMEMORY' | translate}}</mat-label>
                        <input 
                        matInput
                        type="text"
                        formControlName="file_memoriaTecnica"
                        readonly
                        [value]="fileNames['file_memoriaTecnica']"
                        (click)="file_memoriaTecnica.click()"
                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                        />
                        <mat-error *ngIf="ilsForm.get('file_memoriaTecnica')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                    </mat-form-field>
                    <input #file_memoriaTecnica type="file" (change)="onFileChange($event, 'file_memoriaTecnica')" accept=".pdf" hidden multiple>
                    <ul *ngIf="files['file_memoriaTecnica'].length > 0">
                        <li *ngFor="let file of files['file_memoriaTecnica']">{{file.name}} {{file.size/1000}} KB</li>
                    </ul>
                </section>
                <section ngClass="file-input">
                    <mat-form-field floatLabel="always">
                        <mat-label>{{'ILS.CIFPART1' | translate}}<abbr title="{{'COMMON.ACRONYMS.CIF.FULL-PHRASE' | translate}}">{{'COMMON.ACRONYMS.CIF.ACRONYM' | translate}}</abbr>{{'ILS.CIFPART2' | translate}}</mat-label>
                        <input 
                        matInput
                        type="text"
                        formControlName="file_nifEmpresa"
                        readonly
                        [value]="fileNames['file_nifEmpresa']"
                        (click)="file_nifEmpresa.click()"
                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                        />
                        <mat-error *ngIf="ilsForm.get('file_nifEmpresa')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                    </mat-form-field>
                    <input #file_nifEmpresa type="file" (change)="onFileChange($event, 'file_nifEmpresa')" accept=".pdf" hidden multiple>
                    <ul *ngIf="files['file_nifEmpresa'].length > 0">
                        <li *ngFor="let file of files['file_nifEmpresa']">{{file.name}} {{file.size/1000}} KB</li>
                    </ul>
                </section>
                <section ngClass="file-input">
                    <mat-form-field floatLabel="always">
                        <mat-label>{{'ILS.LOGO' | translate}}</mat-label>
                        <input 
                        matInput
                        type="text"
                        formControlName="file_logotipoEmpresaIls"
                        readonly
                        [value]="fileNames['file_logotipoEmpresaIls']"
                        (click)="file_logotipoEmpresaIls.click()"
                        placeholder="{{'FILES.UPLOADFILES' | translate}}"
                        />
                        <mat-error *ngIf="ilsForm.get('file_logotipoEmpresaIls')?.errors">{{'FORMERRORS.COMMON.FILE' | translate}}</mat-error>
                    </mat-form-field>
                    <input #file_logotipoEmpresaIls type="file" (change)="onFileChange($event, 'file_logotipoEmpresaIls')" accept=".webp, .jpeg, .svg" hidden multiple>
                    <ul *ngIf="files['file_logotipoEmpresaIls'].length > 0">
                        <li *ngFor="let file of files['file_logotipoEmpresaIls']">{{file.name}} {{file.size/1000}} KB</li>
                    </ul>
                </section>
            </section>
        </mat-expansion-panel>
    </mat-accordion>
    <mat-form-field style="display:none">
        <input matInput type="text" formControlName="tipo_tramite">
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit" [disabled]="ilsForm.invalid">{{'FORM.SEND' | translate}}</button>
</form>